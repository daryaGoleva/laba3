"use strict";

class OperationDescription {
  static get rule() {
    return 'operation-description';
  }

  OpenAPIOperation() {
    return {
      onEnter: (node, _, ctx) => {
        if (typeof node.description !== 'string') {
          return ctx.createError(ctx.messageHelpers.fieldTypeMismatchMessageHelper('string'), 'value');
        }

        if (node && !node.description && node.description !== '') {
          return [ctx.createError(ctx.messageHelpers.missingRequiredField('description'), 'key')];
        }

        return null;
      }
    };
  }

}

module.exports = OperationDescription;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy92aXNpdG9ycy9ydWxlcy9zZW1hbnRpYy9vcGVyYXRpb24tZGVzY3JpcHRpb24uanMiXSwibmFtZXMiOlsiT3BlcmF0aW9uRGVzY3JpcHRpb24iLCJydWxlIiwiT3BlbkFQSU9wZXJhdGlvbiIsIm9uRW50ZXIiLCJub2RlIiwiXyIsImN0eCIsImRlc2NyaXB0aW9uIiwiY3JlYXRlRXJyb3IiLCJtZXNzYWdlSGVscGVycyIsImZpZWxkVHlwZU1pc21hdGNoTWVzc2FnZUhlbHBlciIsIm1pc3NpbmdSZXF1aXJlZEZpZWxkIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxNQUFNQSxvQkFBTixDQUEyQjtBQUN6QixhQUFXQyxJQUFYLEdBQWtCO0FBQ2hCLFdBQU8sdUJBQVA7QUFDRDs7QUFFREMsRUFBQUEsZ0JBQWdCLEdBQUc7QUFDakIsV0FBTztBQUNMQyxNQUFBQSxPQUFPLEVBQUUsQ0FBQ0MsSUFBRCxFQUFPQyxDQUFQLEVBQVVDLEdBQVYsS0FBa0I7QUFDekIsWUFBSSxPQUFPRixJQUFJLENBQUNHLFdBQVosS0FBNEIsUUFBaEMsRUFBMEM7QUFDeEMsaUJBQU9ELEdBQUcsQ0FBQ0UsV0FBSixDQUFnQkYsR0FBRyxDQUFDRyxjQUFKLENBQW1CQyw4QkFBbkIsQ0FBa0QsUUFBbEQsQ0FBaEIsRUFBNkUsT0FBN0UsQ0FBUDtBQUNEOztBQUNELFlBQUlOLElBQUksSUFBSSxDQUFDQSxJQUFJLENBQUNHLFdBQWQsSUFBNkJILElBQUksQ0FBQ0csV0FBTCxLQUFxQixFQUF0RCxFQUEwRDtBQUN4RCxpQkFBTyxDQUFDRCxHQUFHLENBQUNFLFdBQUosQ0FBZ0JGLEdBQUcsQ0FBQ0csY0FBSixDQUFtQkUsb0JBQW5CLENBQXdDLGFBQXhDLENBQWhCLEVBQXdFLEtBQXhFLENBQUQsQ0FBUDtBQUNEOztBQUNELGVBQU8sSUFBUDtBQUNEO0FBVEksS0FBUDtBQVdEOztBQWpCd0I7O0FBb0IzQkMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCYixvQkFBakIiLCJzb3VyY2VzQ29udGVudCI6WyJjbGFzcyBPcGVyYXRpb25EZXNjcmlwdGlvbiB7XG4gIHN0YXRpYyBnZXQgcnVsZSgpIHtcbiAgICByZXR1cm4gJ29wZXJhdGlvbi1kZXNjcmlwdGlvbic7XG4gIH1cblxuICBPcGVuQVBJT3BlcmF0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICBvbkVudGVyOiAobm9kZSwgXywgY3R4KSA9PiB7XG4gICAgICAgIGlmICh0eXBlb2Ygbm9kZS5kZXNjcmlwdGlvbiAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICByZXR1cm4gY3R4LmNyZWF0ZUVycm9yKGN0eC5tZXNzYWdlSGVscGVycy5maWVsZFR5cGVNaXNtYXRjaE1lc3NhZ2VIZWxwZXIoJ3N0cmluZycpLCAndmFsdWUnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobm9kZSAmJiAhbm9kZS5kZXNjcmlwdGlvbiAmJiBub2RlLmRlc2NyaXB0aW9uICE9PSAnJykge1xuICAgICAgICAgIHJldHVybiBbY3R4LmNyZWF0ZUVycm9yKGN0eC5tZXNzYWdlSGVscGVycy5taXNzaW5nUmVxdWlyZWRGaWVsZCgnZGVzY3JpcHRpb24nKSwgJ2tleScpXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH0sXG4gICAgfTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IE9wZXJhdGlvbkRlc2NyaXB0aW9uO1xuIl19
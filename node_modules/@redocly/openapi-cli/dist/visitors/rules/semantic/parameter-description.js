"use strict";

class ParameterDescription {
  static get rule() {
    return 'parameter-description';
  }

  OpenAPIParameter() {
    return {
      onEnter: (node, _, ctx) => {
        if (typeof node.description !== 'string') {
          return ctx.createError(ctx.messageHelpers.fieldTypeMismatchMessageHelper('string'), 'value');
        }

        if (node && !node.description && node.description !== '') {
          return [ctx.createError('The "Parameter" object should contain "description" field.', 'key')];
        }

        return [];
      }
    };
  }

}

module.exports = ParameterDescription;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy92aXNpdG9ycy9ydWxlcy9zZW1hbnRpYy9wYXJhbWV0ZXItZGVzY3JpcHRpb24uanMiXSwibmFtZXMiOlsiUGFyYW1ldGVyRGVzY3JpcHRpb24iLCJydWxlIiwiT3BlbkFQSVBhcmFtZXRlciIsIm9uRW50ZXIiLCJub2RlIiwiXyIsImN0eCIsImRlc2NyaXB0aW9uIiwiY3JlYXRlRXJyb3IiLCJtZXNzYWdlSGVscGVycyIsImZpZWxkVHlwZU1pc21hdGNoTWVzc2FnZUhlbHBlciIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI7O0FBQUEsTUFBTUEsb0JBQU4sQ0FBMkI7QUFDekIsYUFBV0MsSUFBWCxHQUFrQjtBQUNoQixXQUFPLHVCQUFQO0FBQ0Q7O0FBRURDLEVBQUFBLGdCQUFnQixHQUFHO0FBQ2pCLFdBQU87QUFDTEMsTUFBQUEsT0FBTyxFQUFFLENBQUNDLElBQUQsRUFBT0MsQ0FBUCxFQUFVQyxHQUFWLEtBQWtCO0FBQ3pCLFlBQUksT0FBT0YsSUFBSSxDQUFDRyxXQUFaLEtBQTRCLFFBQWhDLEVBQTBDO0FBQ3hDLGlCQUFPRCxHQUFHLENBQUNFLFdBQUosQ0FBZ0JGLEdBQUcsQ0FBQ0csY0FBSixDQUFtQkMsOEJBQW5CLENBQWtELFFBQWxELENBQWhCLEVBQTZFLE9BQTdFLENBQVA7QUFDRDs7QUFDRCxZQUFJTixJQUFJLElBQUksQ0FBQ0EsSUFBSSxDQUFDRyxXQUFkLElBQTZCSCxJQUFJLENBQUNHLFdBQUwsS0FBcUIsRUFBdEQsRUFBMEQ7QUFDeEQsaUJBQU8sQ0FBQ0QsR0FBRyxDQUFDRSxXQUFKLENBQWdCLDREQUFoQixFQUE4RSxLQUE5RSxDQUFELENBQVA7QUFDRDs7QUFDRCxlQUFPLEVBQVA7QUFDRDtBQVRJLEtBQVA7QUFXRDs7QUFqQndCOztBQW9CM0JHLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQlosb0JBQWpCIiwic291cmNlc0NvbnRlbnQiOlsiY2xhc3MgUGFyYW1ldGVyRGVzY3JpcHRpb24ge1xuICBzdGF0aWMgZ2V0IHJ1bGUoKSB7XG4gICAgcmV0dXJuICdwYXJhbWV0ZXItZGVzY3JpcHRpb24nO1xuICB9XG5cbiAgT3BlbkFQSVBhcmFtZXRlcigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgb25FbnRlcjogKG5vZGUsIF8sIGN0eCkgPT4ge1xuICAgICAgICBpZiAodHlwZW9mIG5vZGUuZGVzY3JpcHRpb24gIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgcmV0dXJuIGN0eC5jcmVhdGVFcnJvcihjdHgubWVzc2FnZUhlbHBlcnMuZmllbGRUeXBlTWlzbWF0Y2hNZXNzYWdlSGVscGVyKCdzdHJpbmcnKSwgJ3ZhbHVlJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5vZGUgJiYgIW5vZGUuZGVzY3JpcHRpb24gJiYgbm9kZS5kZXNjcmlwdGlvbiAhPT0gJycpIHtcbiAgICAgICAgICByZXR1cm4gW2N0eC5jcmVhdGVFcnJvcignVGhlIFwiUGFyYW1ldGVyXCIgb2JqZWN0IHNob3VsZCBjb250YWluIFwiZGVzY3JpcHRpb25cIiBmaWVsZC4nLCAna2V5JyldO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH0sXG4gICAgfTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IFBhcmFtZXRlckRlc2NyaXB0aW9uO1xuIl19
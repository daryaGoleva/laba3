"use strict";

class ValidateOAS2Tag {
  static get rule() {
    return 'oas2-tag';
  }

  get validators() {
    return {
      name(node, ctx) {
        if (node && !node.name) {
          return ctx.createError(ctx.messageHelpers.missingRequiredField('name'), 'key');
        }

        if (node && node.name && typeof node.name !== 'string') return ctx.createError(ctx.messageHelpers.fieldTypeMismatchMessageHelper('string'), 'value');
        return null;
      },

      description(node, ctx) {
        if (node && node.description && typeof node.description !== 'string') return ctx.createError(ctx.messageHelpers.fieldTypeMismatchMessageHelper('string'), 'value');
        return null;
      }

    };
  }

  OAS2Tag() {
    return {
      onEnter: (node, definition, ctx) => ctx.validateFields(this.config, this.rule, this.validators)
    };
  }

}

module.exports = ValidateOAS2Tag;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy92aXNpdG9ycy9ydWxlcy9vYXMyLXN0cnVjdHVyYWwvdmFsaWRhdGVPQVMyVGFnLmpzIl0sIm5hbWVzIjpbIlZhbGlkYXRlT0FTMlRhZyIsInJ1bGUiLCJ2YWxpZGF0b3JzIiwibmFtZSIsIm5vZGUiLCJjdHgiLCJjcmVhdGVFcnJvciIsIm1lc3NhZ2VIZWxwZXJzIiwibWlzc2luZ1JlcXVpcmVkRmllbGQiLCJmaWVsZFR5cGVNaXNtYXRjaE1lc3NhZ2VIZWxwZXIiLCJkZXNjcmlwdGlvbiIsIk9BUzJUYWciLCJvbkVudGVyIiwiZGVmaW5pdGlvbiIsInZhbGlkYXRlRmllbGRzIiwiY29uZmlnIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxNQUFNQSxlQUFOLENBQXNCO0FBQ3BCLGFBQVdDLElBQVgsR0FBa0I7QUFDaEIsV0FBTyxVQUFQO0FBQ0Q7O0FBRUQsTUFBSUMsVUFBSixHQUFpQjtBQUNmLFdBQU87QUFDTEMsTUFBQUEsSUFBSSxDQUFDQyxJQUFELEVBQU9DLEdBQVAsRUFBWTtBQUNkLFlBQUlELElBQUksSUFBSSxDQUFDQSxJQUFJLENBQUNELElBQWxCLEVBQXdCO0FBQ3RCLGlCQUFPRSxHQUFHLENBQUNDLFdBQUosQ0FBZ0JELEdBQUcsQ0FBQ0UsY0FBSixDQUFtQkMsb0JBQW5CLENBQXdDLE1BQXhDLENBQWhCLEVBQWlFLEtBQWpFLENBQVA7QUFDRDs7QUFDRCxZQUFJSixJQUFJLElBQUlBLElBQUksQ0FBQ0QsSUFBYixJQUFxQixPQUFPQyxJQUFJLENBQUNELElBQVosS0FBcUIsUUFBOUMsRUFBd0QsT0FBT0UsR0FBRyxDQUFDQyxXQUFKLENBQWdCRCxHQUFHLENBQUNFLGNBQUosQ0FBbUJFLDhCQUFuQixDQUFrRCxRQUFsRCxDQUFoQixFQUE2RSxPQUE3RSxDQUFQO0FBQ3hELGVBQU8sSUFBUDtBQUNELE9BUEk7O0FBUUxDLE1BQUFBLFdBQVcsQ0FBQ04sSUFBRCxFQUFPQyxHQUFQLEVBQVk7QUFDckIsWUFBSUQsSUFBSSxJQUFJQSxJQUFJLENBQUNNLFdBQWIsSUFBNEIsT0FBT04sSUFBSSxDQUFDTSxXQUFaLEtBQTRCLFFBQTVELEVBQXNFLE9BQU9MLEdBQUcsQ0FBQ0MsV0FBSixDQUFnQkQsR0FBRyxDQUFDRSxjQUFKLENBQW1CRSw4QkFBbkIsQ0FBa0QsUUFBbEQsQ0FBaEIsRUFBNkUsT0FBN0UsQ0FBUDtBQUN0RSxlQUFPLElBQVA7QUFDRDs7QUFYSSxLQUFQO0FBYUQ7O0FBRURFLEVBQUFBLE9BQU8sR0FBRztBQUNSLFdBQU87QUFDTEMsTUFBQUEsT0FBTyxFQUFFLENBQUNSLElBQUQsRUFBT1MsVUFBUCxFQUFtQlIsR0FBbkIsS0FBMkJBLEdBQUcsQ0FBQ1MsY0FBSixDQUNsQyxLQUFLQyxNQUQ2QixFQUNyQixLQUFLZCxJQURnQixFQUNWLEtBQUtDLFVBREs7QUFEL0IsS0FBUDtBQUtEOztBQTNCbUI7O0FBOEJ0QmMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCakIsZUFBakIiLCJzb3VyY2VzQ29udGVudCI6WyJjbGFzcyBWYWxpZGF0ZU9BUzJUYWcge1xuICBzdGF0aWMgZ2V0IHJ1bGUoKSB7XG4gICAgcmV0dXJuICdvYXMyLXRhZyc7XG4gIH1cblxuICBnZXQgdmFsaWRhdG9ycygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbmFtZShub2RlLCBjdHgpIHtcbiAgICAgICAgaWYgKG5vZGUgJiYgIW5vZGUubmFtZSkge1xuICAgICAgICAgIHJldHVybiBjdHguY3JlYXRlRXJyb3IoY3R4Lm1lc3NhZ2VIZWxwZXJzLm1pc3NpbmdSZXF1aXJlZEZpZWxkKCduYW1lJyksICdrZXknKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobm9kZSAmJiBub2RlLm5hbWUgJiYgdHlwZW9mIG5vZGUubmFtZSAhPT0gJ3N0cmluZycpIHJldHVybiBjdHguY3JlYXRlRXJyb3IoY3R4Lm1lc3NhZ2VIZWxwZXJzLmZpZWxkVHlwZU1pc21hdGNoTWVzc2FnZUhlbHBlcignc3RyaW5nJyksICd2YWx1ZScpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH0sXG4gICAgICBkZXNjcmlwdGlvbihub2RlLCBjdHgpIHtcbiAgICAgICAgaWYgKG5vZGUgJiYgbm9kZS5kZXNjcmlwdGlvbiAmJiB0eXBlb2Ygbm9kZS5kZXNjcmlwdGlvbiAhPT0gJ3N0cmluZycpIHJldHVybiBjdHguY3JlYXRlRXJyb3IoY3R4Lm1lc3NhZ2VIZWxwZXJzLmZpZWxkVHlwZU1pc21hdGNoTWVzc2FnZUhlbHBlcignc3RyaW5nJyksICd2YWx1ZScpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH0sXG4gICAgfTtcbiAgfVxuXG4gIE9BUzJUYWcoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG9uRW50ZXI6IChub2RlLCBkZWZpbml0aW9uLCBjdHgpID0+IGN0eC52YWxpZGF0ZUZpZWxkcyhcbiAgICAgICAgdGhpcy5jb25maWcsIHRoaXMucnVsZSwgdGhpcy52YWxpZGF0b3JzLFxuICAgICAgKSxcbiAgICB9O1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gVmFsaWRhdGVPQVMyVGFnO1xuIl19